(this["webpackJsonpra-steps"]=this["webpackJsonpra-steps"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(9),r=n.n(i),s=(n(17),n(18),n(2)),d=n(12),o=n(4),u=n(5),l=n(0);function j(e){var t=e.value,n=e.onHandleSubmit,i=Object(a.useState)(t),r=Object(o.a)(i,2),d=r[0],j=r[1];c.a.useEffect((function(){j(t)}),[t]);var b=function(e){var t=e.target,n=t.name,a=t.value;j((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(u.a)({},n,a))}))};return Object(l.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),n(d)},children:[Object(l.jsxs)("div",{className:"form__input__container",children:[Object(l.jsx)("label",{htmlFor:"date",children:"\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413)"}),Object(l.jsx)("input",{className:"form__input",type:"date",value:d.date,name:"date",id:"date",readOnly:d.id?"readonly":null,required:!0,onChange:b})]}),Object(l.jsxs)("div",{className:"form__input__container",children:[Object(l.jsx)("label",{htmlFor:"distance",children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e (\u043a\u043c)"}),Object(l.jsx)("input",{className:"form__input",type:"number",value:d.distance,name:"distance",id:"distance",step:"0.001",min:"0.001",required:!0,onChange:b})]}),Object(l.jsx)("button",{className:"form__button",children:"OK"})]})}var b=n(7);function m(e){var t=e.value.map((function(e){return Object(l.jsx)("div",{className:"table__column",children:e},Object(b.a)())}));return Object(l.jsx)("div",{className:"table__header",children:t})}m.defaultProps={value:["\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413)","\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e (\u043a\u043c)","\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"]};var f=n(10),O=n.n(f);function _(e){var t=e.item,n=e.onDeleteItem,a=e.onEditItem;return t.distance=Number(t.distance).toFixed(3),Object(l.jsxs)("div",{className:"table__row",children:[Object(l.jsx)("span",{className:"table__column",children:O()("".concat(t.date)).format("DD.MM.YYYY")}),Object(l.jsx)("span",{className:"table__column",children:t.distance}),Object(l.jsxs)("div",{className:"table__column action__icons_wrapper",children:[Object(l.jsx)("i",{className:"material-icons action__icon",onClick:function(){return a(t)},children:"edit"}),Object(l.jsx)("i",{className:"material-icons action__icon",onClick:function(){return n(t.id)},children:"close"})]})]})}function v(e){var t=e.data,n=e.onDeleteItem,a=e.onEditItem;return Object(l.jsx)("div",{className:"table__body",children:t.map((function(e){return Object(l.jsx)(_,{item:e,onDeleteItem:function(){return n(e.id)},onEditItem:function(){return a(e)}},e.id)}))})}var h=n(11),x=function e(t,n,a){Object(h.a)(this,e),this.id=t,this.date=n,this.distance=a},p={id:"",date:"",distance:""};function N(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(p),u=Object(o.a)(r,2),f=u[0],O=u[1],_=n.sort((function(e,t){return t.date>e.date?1:-1}));return Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsx)(j,{value:f,onHandleSubmit:function(e){var t=n.findIndex((function(t){return t.date===e.date}));if(-1===t){var a=new x(Object(b.a)(),e.date,e.distance);return i((function(e){return[].concat(Object(d.a)(e),[a])})),void O({id:"",date:"",distance:""})}var c=n.slice();e.id?(c[t].distance=e.distance,O({id:"",date:e.date,distance:e.distance})):c[t].distance=(+c[t].distance+ +e.distance).toString(),i(c)}}),Object(l.jsx)(m,{}),Object(l.jsx)(v,{data:_,onDeleteItem:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))})),O((function(e){return Object(s.a)(Object(s.a)({},e),{},{id:""})}))},onEditItem:function(e){return O({id:e.id,date:e.date,distance:e.distance})}})]})}var g=function(){return Object(l.jsx)("div",{className:"component__wrapper",children:Object(l.jsx)(N,{})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),I()}},[[21,1,2]]]);
//# sourceMappingURL=main.d7fa312f.chunk.js.map